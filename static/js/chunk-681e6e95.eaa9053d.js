(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-681e6e95"],{"6fbc":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("el-card",{staticClass:"box-card",attrs:{"body-style":"padding: '2px'"}},[a("span",[e._v("商品搜索：")]),a("el-input",{staticClass:"yg-width",attrs:{placeholder:"这页面屌不屌？"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),a("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(t){return e.getSearchList()}}},[e._v("查询")])],1),a("el-card",{staticClass:"box-card-two"},[a("el-button",{attrs:{icon:"el-icon-star-off",size:"mini",type:"warning"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新建")]),a("el-button",{attrs:{type:"warning",size:"mini",plain:""}},[e._v("导入数据")]),a("el-table",{staticStyle:{width:"90%"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"date",label:"序号",width:"50",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{prop:"skuName",label:"商品名称",width:"150"}}),a("el-table-column",{attrs:{prop:"skuImage",label:"商品图片",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"skuImage",attrs:{src:e.row.skuImage,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌",width:"150"}}),a("el-table-column",{attrs:{prop:"unit",label:"规格",width:"100"}}),a("el-table-column",{attrs:{prop:"price",label:"商品价格",width:"150"}}),a("el-table-column",{attrs:{prop:"skuClass.className",label:"商品类型",width:"150"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"创建日期",width:"1600"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editProductInfo(t.row)}}},[e._v("修改")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.TotalCount},on:{"current-change":e.currentChange}})],1),a("el-dialog",{attrs:{title:"新增商品",visible:e.dialogVisible,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.Addform}},[a("el-form-item",{attrs:{prop:"skuName",label:"商品名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",autocomplete:"off"},model:{value:e.Addform.skuName,callback:function(t){e.$set(e.Addform,"skuName",t)},expression:"Addform.skuName"}})],1),a("el-form-item",{attrs:{prop:"brandName",label:"品牌","label-width":e.formLabelWidth}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",autocomplete:"off"},model:{value:e.Addform.brandName,callback:function(t){e.$set(e.Addform,"brandName",t)},expression:"Addform.brandName"}})],1),a("el-form-item",{attrs:{prop:"price",label:"商品价格","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1,max:10},model:{value:e.Addform.price,callback:function(t){e.$set(e.Addform,"price",t)},expression:"Addform.price"}})],1),a("el-form-item",{attrs:{prop:"className",label:"商品类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.Addform.skuClass.className,callback:function(t){e.$set(e.Addform.skuClass,"className",t)},expression:"Addform.skuClass.className"}},e._l(e.ProductType,(function(e){return a("el-option",{key:e.classId,attrs:{value:e.className,label:e.className}})})),1)],1),a("el-form-item",{attrs:{prop:"unit",label:"规格","label-width":e.formLabelWidth}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",autocomplete:"off"},model:{value:e.Addform.unit,callback:function(t){e.$set(e.Addform,"unit",t)},expression:"Addform.unit"}})],1),a("el-form-item",{attrs:{prop:"skuImage",label:"商品图片","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.handleAvatarSuccess,"file-list":e.fileList,"list-type":"picture"},model:{value:e.Addform.skuImage,callback:function(t){e.$set(e.Addform,"skuImage",t)},expression:"Addform.skuImage"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getAddForm()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"新增商品",visible:e.editdialogVisible,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.editdialogVisible=t}}},[a("el-form",{attrs:{model:e.editMessage}},[a("el-form-item",{attrs:{prop:"skuName",label:"商品名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",autocomplete:"off"},model:{value:e.editMessage.skuName,callback:function(t){e.$set(e.editMessage,"skuName",t)},expression:"editMessage.skuName"}})],1),a("el-form-item",{attrs:{prop:"brandName",label:"品牌","label-width":e.formLabelWidth}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",autocomplete:"off"},model:{value:e.editMessage.brandName,callback:function(t){e.$set(e.editMessage,"brandName",t)},expression:"editMessage.brandName"}})],1),a("el-form-item",{attrs:{prop:"price",label:"商品价格","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{precision:2,step:.1,max:10},model:{value:e.editMessage.price,callback:function(t){e.$set(e.editMessage,"price",t)},expression:"editMessage.price"}})],1),a("el-form-item",{attrs:{prop:"className",label:"商品类型","label-width":e.formLabelWidth}},[e.editMessage.skuClass?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editMessage.skuClass.className,callback:function(t){e.$set(e.editMessage.skuClass,"className",t)},expression:"editMessage.skuClass.className"}},e._l(e.ProductType,(function(e){return a("el-option",{key:e.classId,attrs:{value:e.className,label:e.className}})})),1):e._e()],1),a("el-form-item",{attrs:{prop:"unit",label:"规格","label-width":e.formLabelWidth}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",autocomplete:"off"},model:{value:e.editMessage.unit,callback:function(t){e.$set(e.editMessage,"unit",t)},expression:"editMessage.unit"}})],1),a("el-form-item",{attrs:{prop:"skuImage",label:"商品图片","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.handleAvatarSuccess,"file-list":e.fileList,"list-type":"picture"},model:{value:e.editMessage.skuImage,callback:function(t){e.$set(e.editMessage,"skuImage",t)},expression:"editMessage.skuImage"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editProduct()}}},[e._v("确 定")])],1)],1)],1)},r=[],l=a("c7eb"),i=a("1da1"),n=a("e285"),o={data:function(){return{infoId:"",editMessage:"",ProductType:[],keywords:"",fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],valueSelect:"",num:1,TotalCount:90,dataList:[],text:"",input:"",editdialogVisible:!1,dialogFormVisible:!1,EstablishVisible:!1,dialogVisible:!1,Addform:{skuClass:{classId:0,className:"",parentId:0},brandName:"",unit:"",classId:"",price:"",brand:"",skuName:"",skuImage:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"90px"}},methods:{getProductSearch:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["f"])({pageIndex:1,pageSize:6});case 3:a=t.sent,console.log(a),e.dataList=a.data.currentPageRecords,console.log("商品搜索数据",dataList),e.TotalCount=parseInt(a.data.totalCount),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},currentChange:function(e){var t=this;return Object(i["a"])(Object(l["a"])().mark((function a(){var s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(n["f"])({pageIndex:e,pageSize:6});case 2:s=a.sent,console.log(s),t.dataList=s.data.currentPageRecords,console.log("888",t.dataList);case 6:case"end":return a.stop()}}),a)})))()},getSearchList:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(666666),t.next=3,Object(n["f"])({skuName:e.keywords});case 3:a=t.sent,e.dataList=a.data.currentPageRecords,console.log(a);case 6:case"end":return t.stop()}}),t)})))()},getAddForm:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["e"])({skuName:e.Addform.skuName,skuImage:e.Addform.skuImage,price:e.Addform.price,classId:e.Addform.skuClass.classId,unit:e.Addform.unit,brandName:e.Addform.brandName});case 3:a=t.sent,console.log(a),e.dialogVisible=!1,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getProductType:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["g"])();case 3:a=t.sent,console.log("商品类型数据",a),e.ProductType=a.data.currentPageRecords,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleAvatarSuccess:function(e){var t=this;return Object(i["a"])(Object(l["a"])().mark((function a(){var s,r,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),s=new FormData,s.append("fileName",e.file),a.next=5,Object(n["i"])(s);case 5:r=a.sent,i=r.data,t.Addform.skuImage=i,console.log(i);case 9:case"end":return a.stop()}}),a)})))()},editProduct:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["d"])(e.infoId,{skuName:e.editMessage.skuName,skuImage:e.editMessage.skuImage,price:e.editMessage.price,classId:e.editMessage.skuClass.classId,unit:e.editMessage.unit,brandName:e.editMessage.brandName});case 3:a=t.sent,console.log(a),e.editdialogVisible=!1,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},indexMethod:function(e){return e},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},editProductInfo:function(e){console.log(e.skuId),this.infoId=e.skuId,this.editdialogVisible=!0,this.editMessage=e}},created:function(){this.getProductSearch(),this.getProductType()}},c=o,u=(a("f1b2"),a("2877")),d=Object(u["a"])(c,s,r,!1,null,"2defe841",null);t["default"]=d.exports},a851:function(e,t,a){},e285:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"h",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return n})),a.d(t,"i",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return m}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/vm-service/sku/search",params:e})}function l(e){return Object(s["a"])({url:"/api/vm-service/skuClass/search",params:e})}function i(e){return Object(s["a"])({url:"/api/vm-service/sku",method:"POST",data:e})}function n(e){return Object(s["a"])({url:"/api/vm-service/skuClass/search",params:e})}function o(e){return Object(s["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",data:e})}function c(e,t){return Object(s["a"])({url:"/api/vm-service/sku/".concat(e),method:"PUT",data:t})}function u(e){return Object(s["a"])({url:"/api/vm-service/skuClass",method:"POST",data:e})}function d(e,t){return Object(s["a"])({url:"/api/vm-service/skuClass/".concat(e),method:"PUT",data:t})}function m(e){return Object(s["a"])({url:"/api/vm-service/skuClass/".concat(e),method:"DELETE"})}},f1b2:function(e,t,a){"use strict";a("a851")}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-376c030c"],{"19c1":function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"o",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"n",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return I}));var r=n("b775");function a(e){return Object(r["a"])({url:"/api/user-service/user/search",method:"GET",params:e})}function o(e){return Object(r["a"])({url:"/api/user-service/role",method:"GET",params:e})}function i(e){return Object(r["a"])({url:"/api/vm-service/region/search",method:"GET",params:e})}function s(e){return Object(r["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",data:e})}function c(e,t){return Object(r["a"])({url:"/api/user-service/user/"+e,method:"PUT",data:t})}function l(e){return Object(r["a"])({url:"/api/user-service/user",method:"POST",data:e})}function u(){return Object(r["a"])({url:"/api/task-service/task/taskReportInfo/2022-08-08 00:00:00/2022-08-08 23:59:59",method:"GET"})}function f(e){return Object(r["a"])({url:"/api/user-service/user/searchUserWork",method:"GET",params:e})}function d(e){return Object(r["a"])({url:"/api/user-service/user/"+e,method:"GET"})}function m(e){return Object(r["a"])({url:"/api/task-service/task/userWork",method:"GET",params:e})}function p(e){return Object(r["a"])({url:"/api/user-service/partner/search",method:"GET",params:e})}function b(e){return Object(r["a"])({url:"/api/order-service/report/partnerCollect",method:"GET",params:e})}function g(e){return Object(r["a"])({url:"/api/order-service/report/totalBill",method:"GET",params:e})}function h(e){return Object(r["a"])({url:"/api/order-service/report/orderAmount",method:"GET",params:e})}function I(e){return Object(r["a"])({url:"/api/order-service/report/orderCount",method:"GET",params:e})}},"408a":function(e,t,n){var r=n("e330");e.exports=r(1..valueOf)},"585b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList}},[n("el-table-column",{attrs:{type:"index",prop:"index",label:"序号",width:"80"}}),e._l(e.tableTitle,(function(e,t){return n("el-table-column",{key:t,attrs:{prop:e.name,label:e.lable,width:"180"}})})),n("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.viewDetailsFlag>0?n("div",[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.lookTaskDetailFn(t.row)}}},[e._v("查看详情")])],1):n("div",[n("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(n){return e.modifyClick(t.row)}}},[e._v("修改")]),n("el-tooltip",{attrs:{content:"Bottom center",placement:"bottom",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",[n("i",{staticClass:"el-icon-warning"},[e._v("提示")]),n("p",[e._v("演示系统,不支持此操作")])])]),n("el-link",{attrs:{type:"danger"},on:{click:function(n){return e.deleteClick(t.row)}}},[e._v("删除")])],1)],1)]}}])})],2)},a=[],o=(n("c740"),n("b64b"),{data:function(){return{num:1}},props:{tableTitle:{type:Array,required:!0},tableList:{type:Array,required:!0}},computed:{modifyFlag:function(){return Object.keys(this.tableList[0]).findIndex((function(e){return"loginName"===e}))},viewDetailsFlag:function(){return Object.keys(this.tableList[0]).findIndex((function(e){return"progressTotal"===e}))}},created:function(){},methods:{lookTaskDetailFn:function(e){console.log(e),this.$emit("lookTaskDetail",e)},modifyClick:function(e){this.$emit("modifyRoleInfo",e)},deleteClick:function(e){}}}),i=o,s=n("2877"),c=Object(s["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},"5c68":function(e,t,n){"use strict";n("a3ae")},7424:function(e,t,n){"use strict";n("a824")},a3ae:function(e,t,n){},a824:function(e,t,n){},a9e3:function(e,t,n){"use strict";var r=n("83ab"),a=n("da84"),o=n("e330"),i=n("94ca"),s=n("cb2d"),c=n("1a2d"),l=n("7156"),u=n("3a9b"),f=n("d9b5"),d=n("c04e"),m=n("d039"),p=n("241c").f,b=n("06cf").f,g=n("9bf2").f,h=n("408a"),I=n("58a8").trim,v="Number",k=a[v],x=k.prototype,O=a.TypeError,j=o("".slice),y=o("".charCodeAt),N=function(e){var t=d(e,"number");return"bigint"==typeof t?t:w(t)},w=function(e){var t,n,r,a,o,i,s,c,l=d(e,"number");if(f(l))throw O("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=I(l),t=y(l,0),43===t||45===t){if(n=y(l,2),88===n||120===n)return NaN}else if(48===t){switch(y(l,1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+l}for(o=j(l,2),i=o.length,s=0;s<i;s++)if(c=y(o,s),c<48||c>a)return NaN;return parseInt(o,r)}return+l};if(i(v,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var C,_=function(e){var t=arguments.length<1?0:k(N(e)),n=this;return u(x,n)&&m((function(){h(n)}))?l(Object(t),n,_):t},S=r?p(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),T=0;S.length>T;T++)c(k,C=S[T])&&!c(_,C)&&g(_,C,b(k,C));_.prototype=x,x.constructor=_,s(a,v,_,{constructor:!0})}},b406:function(e,t,n){},c057:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.handleCurrentChange}})},a=[],o=(n("a9e3"),{name:"",data:function(){return{}},props:{totalCount:{type:Number,default:100}},components:{},computed:{},created:function(){},mounted:function(){},methods:{handleCurrentChange:function(e){this.$emit("CurrentChange",e)}},watch:{}}),i=o,s=n("2877"),c=Object(s["a"])(i,r,a,!1,null,"2dd8833d",null);t["a"]=c.exports},c740:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").findIndex,o=n("44d2"),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},dd30:function(e,t,n){"use strict";n("b406")},e382:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-container"},[n("div",{staticClass:"app-container"},[n("div",{staticClass:"business-header"},[n("div",{staticClass:"header-left"},[n("span",{staticClass:"header-text"},[e._v("人员搜索:")]),n("el-input",{attrs:{placeholder:"请输入",size:"medium",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.userSearch}},[e._v("查询")])],1),n("div",{staticClass:"business-main"},[n("div",{staticClass:"main-header"},[n("NewButton",{nativeOn:{click:function(t){return e.addUserService(t)}}})],1),n("div",{staticClass:"main-descriptions"},[n("TableItem",{attrs:{tableList:e.tableList,tableTitle:e.tableTitle},on:{modifyRoleInfo:e.modifyRoleInfo}})],1)]),n("div",{staticClass:"page-container"},[n("Pagination",{attrs:{totalCount:e.totalCount},on:{CurrentChange:e.CurrentChange}})],1)]),n("div",{staticClass:"edit-container"},[n("EditUserInfo",{attrs:{centerDialogVisible:e.centerDialogVisible,currentModifyInfo:e.currentModifyInfo},on:{"update:centerDialogVisible":function(t){e.centerDialogVisible=t},"update:center-dialog-visible":function(t){e.centerDialogVisible=t}}})],1)])},a=[],o=n("c7eb"),i=n("1da1"),s=n("ade3"),c=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus-outline"}},[e._v("新建")])}),l=[],u={name:"",data:function(){return{}},components:{},computed:{},created:function(){},mounted:function(){},methods:{},watch:{}},f=u,d=(n("dd30"),n("2877")),m=Object(d["a"])(f,c,l,!1,null,"d888a2d4",null),p=m.exports,b=n("585b"),g=n("c057"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"编辑人员",visible:e.centerDialogVisible,width:"630px",height:"630px",center:""},on:{close:e.closeFn}},[n("el-form",{ref:"form",attrs:{model:e.formInfo,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"人员名称:"}},[n("el-input",{attrs:{maxlength:"5","show-word-limit":""},model:{value:e.formInfo.userName,callback:function(t){e.$set(e.formInfo,"userName",t)},expression:"formInfo.userName"}})],1),n("el-form-item",{attrs:{label:"角色:"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:e.formInfo.role.roleId,callback:function(t){e.$set(e.formInfo.role,"roleId",t)},expression:"formInfo.role.roleId"}},e._l(e.roleList,(function(e){return n("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),n("el-form-item",{attrs:{label:"联系电话:"}},[n("el-input",{attrs:{maxlength:"11","show-word-limit":""},model:{value:e.formInfo.mobile,callback:function(t){e.$set(e.formInfo,"mobile",t)},expression:"formInfo.mobile"}})],1),n("el-form-item",{attrs:{label:"负责区域:"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:e.formInfo.regionId,callback:function(t){e.$set(e.formInfo,"regionId",t)},expression:"formInfo.regionId"}},e._l(e.regionList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"头像:"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"","http-request":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInfo.image?n("img",{staticClass:"avatar",attrs:{src:e.formInfo.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅支持扩展名为jpg/png文件，且不超过100kb")])])],1),n("el-form-item",{attrs:{label:"状态:"}},[n("el-checkbox",{model:{value:e.formInfo.status,callback:function(t){e.$set(e.formInfo,"status",t)},expression:"formInfo.status"}},[e._v("是否启用")])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticStyle:{"margin-right":"30px"},nativeOn:{click:function(t){return e.cancelFn(t)}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.confirmFn(t)}}},[e._v("确 定")])],1)],1)},I=[],v=(n("c740"),n("19c1")),k={name:"",data:function(){return{formInfo:{userName:"",mobile:"",role:{roleId:2},image:"",status:!0,regionId:""},checked:!0,roleList:[],regionList:[]}},props:{centerDialogVisible:{type:Boolean,default:!1},currentModifyInfo:{type:Object,required:!0}},components:{},computed:{},watch:{currentModifyInfo:{deep:!0,immediate:!0,handler:function(e){e.id?this.formInfo=e:this.formInfo={userName:"",mobile:"",role:{roleId:2},image:"",status:!0,regionId:""}}}},created:function(){this.getRoleAndRegionInfo()},mounted:function(){},methods:{onSubmit:function(){console.log("submit!")},handleAvatarSuccess:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function n(){var r,a,i;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),r=new FormData,r.append("fileName",e.file),n.next=5,Object(v["j"])(r);case 5:a=n.sent,i=a.data,t.formInfo.image=i;case 8:case"end":return n.stop()}}),n)})))()},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,n=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG,PNG 格式!"),n||this.$message.error("上传头像图片大小不能超过 100kb!"),t&&n},getRoleAndRegionInfo:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r,a,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["m"])();case 2:return n=t.sent,r=n.data,e.roleList=r,t.next=7,Object(v["l"])({pageIndex:1,pageSize:1e4});case 7:a=t.sent,i=a.data.currentPageRecords,e.regionList=i;case 10:case"end":return t.stop()}}),t)})))()},cancelFn:function(){this.$emit("update:centerDialogVisible",!1)},closeFn:function(){this.$emit("update:centerDialogVisible",!1)},confirmFn:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r,a,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentModifyInfo.userName){t.next=18;break}return n=e.regionList.findIndex((function(t){return t.id===e.formInfo.regionId})),r=e.regionList[n].regionName,console.log(r),t.prev=4,t.next=7,Object(v["a"])({userName:e.formInfo.userName,roleId:e.formInfo.role.roleId,mobile:e.formInfo.mobile,regionId:e.formInfo.regionId,regionName:r,status:e.formInfo.status,image:e.formInfo.image});case 7:t.sent,e.$message.success("添加成功"),e.$emit("update:centerDialogVisible",!1),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),e.$message.error("添加失败"),e.$emit("update:centerDialogVisible",!1);case 16:t.next=32;break;case 18:return a=e.regionList.findIndex((function(t){return t.id===e.formInfo.regionId})),i=e.regionList[a].regionName,t.prev=20,t.next=23,Object(v["o"])(e.currentModifyInfo.id,{userName:e.formInfo.userName,roleId:e.formInfo.role.roleId,mobile:e.formInfo.mobile,regionId:e.formInfo.regionId,regionName:i,status:e.formInfo.status,image:e.formInfo.image});case 23:t.sent,e.$message.success("修改成功"),e.$emit("update:centerDialogVisible",!1),t.next=32;break;case 28:t.prev=28,t.t1=t["catch"](20),e.$message.error("修改失败"),e.$emit("update:centerDialogVisible",!1);case 32:case"end":return t.stop()}}),t,null,[[4,12],[20,28]])})))()}}},x=k,O=(n("5c68"),Object(d["a"])(x,h,I,!1,null,"b422d3c4",null)),j=O.exports,y={data:function(){var e;return e={pageIndex:1,pageSize:10,userName:"",tableTitle:[{lable:"人员名称",name:"userName"},{lable:"归属区域",name:"regionName"},{lable:"角色",name:"role.roleName"},{lable:"联系电话",name:"mobile"}],tableList:[]},Object(s["a"])(e,"pageSize",10),Object(s["a"])(e,"totalCount",28),Object(s["a"])(e,"totalPage",3),Object(s["a"])(e,"centerDialogVisible",!1),Object(s["a"])(e,"currentModifyInfo",{}),e},components:{NewButton:p,TableItem:b["a"],Pagination:g["a"],EditUserInfo:j},created:function(){this.getUserServeList()},methods:{getUserServeList:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["k"])({pageIndex:e.pageIndex,pageSize:e.pageSize});case 2:n=t.sent,r=n.data,console.log("getUserServeListApi",r),e.pageIndex=Number(r.pageIndex),e.totalCount=Number(r.totalCount),e.totalPage=Number(r.totalPage),e.tableList=r.currentPageRecords;case 9:case"end":return t.stop()}}),t)})))()},CurrentChange:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function n(){var r,a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.pageIndex=e,n.next=3,Object(v["k"])({pageIndex:t.pageIndex,pageSize:t.pageSize});case 3:r=n.sent,a=r.data,t.pageIndex=Number(a.pageIndex),t.tableList=a.currentPageRecords;case 7:case"end":return n.stop()}}),n)})))()},userSearch:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["k"])({pageIndex:e.pageIndex,pageSize:e.pageSize,userName:e.userName});case 2:n=t.sent,r=n.data,console.log(r),e.tableList=r.currentPageRecords;case 6:case"end":return t.stop()}}),t)})))()},modifyRoleInfo:function(e){console.log("modifyRoleInfo",e),this.currentModifyInfo=e,this.centerDialogVisible=!0},addUserService:function(){this.currentModifyInfo={},this.centerDialogVisible=!0}}},N=y,w=(n("7424"),Object(d["a"])(N,r,a,!1,null,"757a4785",null));t["default"]=w.exports}}]);
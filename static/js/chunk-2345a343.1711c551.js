(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2345a343"],{"137f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("el-card",{staticClass:"box-card",attrs:{"body-style":"padding: '2px'"}},[a("span",[t._v("商品搜索：")]),a("el-input",{staticClass:"yg-width",attrs:{placeholder:"这页面屌不屌？"},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),a("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(e){return t.getSearchList()}}},[t._v("查询")])],1),a("el-card",{staticClass:"box-card-two"},[a("el-button",{attrs:{icon:"el-icon-star-off",size:"mini",type:"warning"},on:{click:function(e){t.EstablishVisible=!0}}},[t._v("新建")]),a("el-dialog",{attrs:{title:"新增商品类型",visible:t.EstablishVisible,width:"40%"},on:{"update:visible":function(e){t.EstablishVisible=e}}},[a("el-form",{attrs:{model:t.Addform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"合作商名"}},[a("el-input",{model:{value:t.Addform.name,callback:function(e){t.$set(t.Addform,"name",e)},expression:"Addform.name"}})],1),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{model:{value:t.Addform.contact,callback:function(e){t.$set(t.Addform,"contact",e)},expression:"Addform.contact"}})],1),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{model:{value:t.Addform.mobile,callback:function(e){t.$set(t.Addform,"mobile",e)},expression:"Addform.mobile"}})],1),a("el-form-item",{attrs:{label:"分成比例"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:t.handleChange},model:{value:t.Addform.ratio,callback:function(e){t.$set(t.Addform,"ratio",e)},expression:"Addform.ratio"}})],1),a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:t.Addform.account,callback:function(e){t.$set(t.Addform,"account",e)},expression:"Addform.account"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:t.Addform.password,callback:function(e){t.$set(t.Addform,"password",e)},expression:"Addform.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.AddProductType()}}},[t._v("立即创建")]),a("el-button",[t._v("取消")])],1)],1)],1),a("el-table",{staticStyle:{width:"90%"},attrs:{data:t.PartnersData}},[a("el-table-column",{attrs:{fixed:"",prop:"data",label:"序号",width:"100",type:"index",index:t.indexMethod}}),a("el-table-column",{attrs:{prop:"name",label:"合作商名称",width:"200"}}),a("el-table-column",{attrs:{prop:"account",label:"账号",width:"200"}}),a("el-table-column",{attrs:{prop:"vmCount",label:"设备数量",width:"100"}}),a("el-table-column",{attrs:{prop:"ratio",label:"分成比例(%)",width:"100"}}),a("el-table-column",{attrs:{prop:"contact",label:"联系人",width:"200"}}),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话",width:"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.resetPasswordFn(e.row)}}},[t._v("重置密码")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.ViewDetailsFn(e.row)}}},[t._v("查看详情")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editProductInfo(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.DeleteFn(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{visible:t.passwordVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.passwordVisible=e}}},[a("span",[t._v("Are You Sure Baby ?")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.passwordVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.passwordVisible=!1}}},[t._v("重置")])],1)]),a("el-dialog",{attrs:{title:"修改商品类型",visible:t.EditVisible,width:"50%"},on:{"update:visible":function(e){t.EditVisible=e}}},[a("el-form",{attrs:{model:t.editInfo,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name",label:"合作商名"}},[a("el-input",{model:{value:t.editInfo.name,callback:function(e){t.$set(t.editInfo,"name",e)},expression:"editInfo.name"}})],1),a("el-form-item",{attrs:{prop:"contact",label:"联系人"}},[a("el-input",{model:{value:t.editInfo.contact,callback:function(e){t.$set(t.editInfo,"contact",e)},expression:"editInfo.contact"}})],1),a("el-form-item",{attrs:{prop:"mobile",label:"联系电话"}},[a("el-input",{model:{value:t.editInfo.mobile,callback:function(e){t.$set(t.editInfo,"mobile",e)},expression:"editInfo.mobile"}})],1),a("el-form-item",{attrs:{prop:"ratio",label:"分成比例"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:t.handleChange},model:{value:t.editInfo.ratio,callback:function(e){t.$set(t.editInfo,"ratio",e)},expression:"editInfo.ratio"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editProduct()}}},[t._v("立即修改")]),a("el-button",{on:{click:function(e){t.EditVisible=!1}}},[t._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"合作商详情",visible:t.ViewDetailsVisible},on:{"update:visible":function(e){t.ViewDetailsVisible=e}}},[a("el-table",{attrs:{data:t.infoData}},[a("el-table-column",{attrs:{property:"name",label:"合作商名称",width:"130"}}),a("el-table-column",{attrs:{property:"contact",label:"联系人",width:"100"}}),a("el-table-column",{attrs:{property:"mobile",label:"联系电话"}}),a("el-table-column",{attrs:{property:"ratio",label:"分成比例"}})],1)],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.TotalCount},on:{"current-change":t.currentChange}})],1)],1)},r=[],o=a("c7eb"),i=a("1da1"),s=(a("b0c0"),a("e285"),a("b775"));function c(t){return Object(s["a"])({url:"/api/user-service/partner/search",params:t})}function l(t){return Object(s["a"])({url:"/api/user-service/partner",method:"POST",data:t})}function u(t){return Object(s["a"])({url:"/api/user-service/partner/resetPwd/".concat(t),method:"PUT"})}function d(t,e){return Object(s["a"])({url:"/api/user-service/partner/".concat(t),method:"PUT",data:e})}function f(t){return Object(s["a"])({url:"/api/user-service/partner/".concat(t),method:"DELETE"})}var b={data:function(){return{infoData:[],detailDate:[],resetId:"",passwordVisible:!1,ViewDetailsVisible:!1,PartnersData:[],num:1,editInfo:"",data:"",ProductType:[],keywords:"",TotalCount:90,text:"",input:"",tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],dialogFormVisible:!1,EstablishVisible:!1,EditVisible:!1,Addform:{name:"",account:"",password:"",ratio:"",contact:"",phone:"",mobile:""},editMessage:"",formLabelWidth:"120px",dataList:[]}},methods:{handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},handleChange:function(t){console.log(t)},getProductSearch:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({pageIndex:1,pageSize:7});case 3:a=e.sent,console.log("合作商搜索数据",a),t.PartnersData=a.data.currentPageRecords,t.TotalCount=parseInt(a.data.totalCount),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},ViewDetailsFn:function(t){console.log(t),this.ViewDetailsVisible=!0,this.infoData.push(t)},resetPasswordFn:function(t){console.log(t),this.passwordVisible=!0,this.resetId=t.id,this.resetPassword()},resetPassword:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var a,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.resetId),a=t.resetId,e.next=5,u(a);case 5:n=e.sent,console.log(n),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},DeleteFn:function(t){console.log(t),this.infoId=t.id,this.DeleteProduct()},DeleteProduct:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(t.infoId);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))()},editProductInfo:function(t){console.log(t),this.editInfo=t,this.infoId=t.id,this.EditVisible=!0},editProduct:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.EditVisible=!1,e.next=4,d(infoId,{name:t.editInfo.name,contact:t.editInfo.contact,mobile:t.editInfo.mobile,rotio:t.editInfo.rotio});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getSearchList:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(666666),e.next=3,c({name:t.keywords});case 3:a=e.sent,t.PartnersData=a.data.currentPageRecords,console.log(a);case 6:case"end":return e.stop()}}),e)})))()},indexMethod:function(t){return t},AddProductType:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({name:t.Addform.name,account:t.Addform.account,password:t.Addform.password,ratio:t.Addform.ratio,contact:t.Addform.contact,mobile:t.Addform.mobile});case 3:a=e.sent,console.log(a),t.EstablishVisible=!1,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},currentChange:function(t){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c({pageIndex:t,pageSize:7});case 2:n=a.sent,console.log(n),e.PartnersData=n.data.currentPageRecords;case 5:case"end":return a.stop()}}),a)})))()}},created:function(){this.getProductSearch()}},p=b,m=(a("d91c"),a("2877")),h=Object(m["a"])(p,n,r,!1,null,"07135846",null);e["default"]=h.exports},"411a":function(t,e,a){},d91c:function(t,e,a){"use strict";a("411a")},e285:function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"h",(function(){return o})),a.d(e,"e",(function(){return i})),a.d(e,"g",(function(){return s})),a.d(e,"i",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"b",(function(){return f}));var n=a("b775");function r(t){return Object(n["a"])({url:"/api/vm-service/sku/search",params:t})}function o(t){return Object(n["a"])({url:"/api/vm-service/skuClass/search",params:t})}function i(t){return Object(n["a"])({url:"/api/vm-service/sku",method:"POST",data:t})}function s(t){return Object(n["a"])({url:"/api/vm-service/skuClass/search",params:t})}function c(t){return Object(n["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",data:t})}function l(t,e){return Object(n["a"])({url:"/api/vm-service/sku/".concat(t),method:"PUT",data:e})}function u(t){return Object(n["a"])({url:"/api/vm-service/skuClass",method:"POST",data:t})}function d(t,e){return Object(n["a"])({url:"/api/vm-service/skuClass/".concat(t),method:"PUT",data:e})}function f(t){return Object(n["a"])({url:"/api/vm-service/skuClass/".concat(t),method:"DELETE"})}}}]);
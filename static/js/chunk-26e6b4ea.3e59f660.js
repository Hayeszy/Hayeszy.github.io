(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26e6b4ea"],{1430:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("div",{staticClass:"business-header"},[a("div",{staticClass:"header-left"},[a("span",{staticClass:"header-text"},[e._v("人员搜索:")]),a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),a("div",{staticClass:"header-rigth"},[a("span",{staticClass:"header-text"},[e._v("角色:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.searchTask}},[e._v("查询")])],1),a("div",{staticClass:"business-main"},[a("div",{staticClass:"main-descriptions"},[a("TableItem",{attrs:{tableList:e.tableList,tableTitle:e.tableTitle},on:{lookTaskDetail:e.lookTaskDetail}})],1)]),a("div",{staticClass:"page-container"},[a("Pagination",{attrs:{totalCount:e.totalCount},on:{CurrentChange:e.CurrentChange}})],1)]),e.detailVisible?a("div",[a("UserTaskDetail",{attrs:{detailVisible:e.detailVisible,currentUserData:e.currentUserData},on:{"update:detailVisible":function(t){e.detailVisible=t},"update:detail-visible":function(t){e.detailVisible=t}}})],1):e._e()])},r=[],i=a("c7eb"),o=a("1da1"),s=(a("a9e3"),a("19c1")),c=a("c057"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog-container",attrs:{title:"人员详情",visible:e.detailVisible,width:"650px"},on:{close:e.closeFn}},[a("div",{staticClass:"header-container"},[a("div",{staticClass:"header-text"},[a("div",[a("p",[e._v("人员名称:"),a("span",[e._v(e._s(e.detailInfo.userName))])]),a("p",[e._v("负责区域: "),a("span",[e._v(e._s(e.detailInfo.regionName))])])]),a("p",[e._v("角色:"),a("span",[e._v(e._s(e.detailInfo.roleName))])]),a("p",[e._v("联系电话:"),a("span",[e._v(e._s(e.detailInfo.mobile))])])])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allInfoCount,border:""}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,width:"110"}}),e._l(e.tableTitle,(function(e){return a("el-table-column",{key:e.name,attrs:{prop:e.name,label:e.title,width:"125"}})}))],2)],1)},l=[],d={name:"",data:function(){return{detailInfo:{},allInfoCount:[],tableTitle:[{title:"总工单数",name:"total"},{title:"拒绝工单",name:"cancelCount"},{title:"完成工单",name:"workCount"},{title:"进行中工单",name:"progressTotal"}]}},props:{detailVisible:{type:Boolean,default:!1},currentUserData:{type:Object}},components:{},computed:{},created:function(){this.getDetailInfo()},mounted:function(){},methods:{indexMethod:function(e){return["本周","本月","本年"][e]},closeFn:function(){this.$emit("update:detailVisible",!1)},getDetailInfo:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n,r,o,c,u,l,d;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["i"])(e.currentUserData.userId);case 2:return a=t.sent,n=a.data,e.detailInfo=n,new Date,t.next=8,Object(s["h"])({userId:e.currentUserData.userId,start:"2022-08-08 00:00:00",end:"2022-08-08 23:59:59"});case 8:return r=t.sent,o=r.data,e.allInfoCount.push(o),t.next=13,Object(s["h"])({userId:e.currentUserData.userId,start:"2022-08-01 00:00:00",end:"2022-08-08 23:59:59"});case 13:return c=t.sent,u=c.data,e.allInfoCount.push(u),t.next=18,Object(s["h"])({userId:e.currentUserData.userId,start:"2022-01-01 00:00:00",end:"2022-08-08 23:59:59"});case 18:l=t.sent,d=l.data,e.allInfoCount.push(d);case 21:case"end":return t.stop()}}),t)})))()}},watch:{}},p=d,f=(a("6aba"),a("2877")),b=Object(f["a"])(p,u,l,!1,null,"a6dd6c70",null),m=b.exports,h=a("585b"),v={data:function(){return{tableTitle:[{lable:"人员名称",name:"userName"},{lable:"角色",name:"roleName"},{lable:"联系电话",name:"mobile"},{lable:"完成工单(本月)",name:"workCount"},{lable:"进行中工单",name:"progressTotal"},{lable:"拒绝工单(本月)",name:"cancelCount"}],pageIndex:1,pageSize:10,tableList:[],roleList:[],roleId:"",userName:"",totalCount:28,totalPage:3,currentUserData:{},detailVisible:!1}},components:{TableItem:h["a"],Pagination:c["a"],UserTaskDetail:m},created:function(){this.getsearchUserWork(),this.getRoleInfo()},methods:{getsearchUserWork:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["n"])({pageIndex:e.pageIndex,pageSize:e.pageSize});case 2:a=t.sent,n=a.data,e.pageIndex=Number(n.pageIndex),e.totalCount=Number(n.totalCount),e.totalPage=Number(n.totalPage),e.tableList=n.currentPageRecords;case 8:case"end":return t.stop()}}),t)})))()},CurrentChange:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.pageIndex=e,a.next=3,Object(s["n"])({pageIndex:t.pageIndex,pageSize:t.pageSize});case 3:n=a.sent,r=n.data,t.pageIndex=Number(r.pageIndex),t.tableList=r.currentPageRecords;case 7:case"end":return a.stop()}}),a)})))()},getRoleInfo:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["m"])();case 2:a=t.sent,n=a.data,e.roleList=n;case 5:case"end":return t.stop()}}),t)})))()},searchTask:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=3===e.roleId,t.next=3,Object(s["n"])({pageIndex:e.pageIndex,pageSize:e.pageSize,userName:e.userName,isRepair:a});case 3:n=t.sent,r=n.data,e.pageIndex=Number(r.pageIndex),e.totalCount=Number(r.totalCount),e.totalPage=Number(r.totalPage),e.tableList=r.currentPageRecords;case 9:case"end":return t.stop()}}),t)})))()},lookTaskDetail:function(e){this.detailVisible=!0,this.currentUserData=e}}},g=v,I=(a("d33d"),Object(f["a"])(g,n,r,!1,null,"01b38028",null));t["default"]=I.exports},"159b1":function(e,t,a){},"19c1":function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"m",(function(){return i})),a.d(t,"l",(function(){return o})),a.d(t,"j",(function(){return s})),a.d(t,"o",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return l})),a.d(t,"n",(function(){return d})),a.d(t,"i",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return g}));var n=a("b775");function r(e){return Object(n["a"])({url:"/api/user-service/user/search",method:"GET",params:e})}function i(e){return Object(n["a"])({url:"/api/user-service/role",method:"GET",params:e})}function o(e){return Object(n["a"])({url:"/api/vm-service/region/search",method:"GET",params:e})}function s(e){return Object(n["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",data:e})}function c(e,t){return Object(n["a"])({url:"/api/user-service/user/"+e,method:"PUT",data:t})}function u(e){return Object(n["a"])({url:"/api/user-service/user",method:"POST",data:e})}function l(){return Object(n["a"])({url:"/api/task-service/task/taskReportInfo/2022-08-08 00:00:00/2022-08-08 23:59:59",method:"GET"})}function d(e){return Object(n["a"])({url:"/api/user-service/user/searchUserWork",method:"GET",params:e})}function p(e){return Object(n["a"])({url:"/api/user-service/user/"+e,method:"GET"})}function f(e){return Object(n["a"])({url:"/api/task-service/task/userWork",method:"GET",params:e})}function b(e){return Object(n["a"])({url:"/api/user-service/partner/search",method:"GET",params:e})}function m(e){return Object(n["a"])({url:"/api/order-service/report/partnerCollect",method:"GET",params:e})}function h(e){return Object(n["a"])({url:"/api/order-service/report/totalBill",method:"GET",params:e})}function v(e){return Object(n["a"])({url:"/api/order-service/report/orderAmount",method:"GET",params:e})}function g(e){return Object(n["a"])({url:"/api/order-service/report/orderCount",method:"GET",params:e})}},"408a":function(e,t,a){var n=a("e330");e.exports=n(1..valueOf)},"585b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList}},[a("el-table-column",{attrs:{type:"index",prop:"index",label:"序号",width:"80"}}),e._l(e.tableTitle,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.name,label:e.lable,width:"180"}})})),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.viewDetailsFlag>0?a("div",[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.lookTaskDetailFn(t.row)}}},[e._v("查看详情")])],1):a("div",[a("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(a){return e.modifyClick(t.row)}}},[e._v("修改")]),a("el-tooltip",{attrs:{content:"Bottom center",placement:"bottom",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[a("i",{staticClass:"el-icon-warning"},[e._v("提示")]),a("p",[e._v("演示系统,不支持此操作")])])]),a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deleteClick(t.row)}}},[e._v("删除")])],1)],1)]}}])})],2)},r=[],i=(a("c740"),a("b64b"),{data:function(){return{num:1}},props:{tableTitle:{type:Array,required:!0},tableList:{type:Array,required:!0}},computed:{modifyFlag:function(){return Object.keys(this.tableList[0]).findIndex((function(e){return"loginName"===e}))},viewDetailsFlag:function(){return Object.keys(this.tableList[0]).findIndex((function(e){return"progressTotal"===e}))}},created:function(){},methods:{lookTaskDetailFn:function(e){console.log(e),this.$emit("lookTaskDetail",e)},modifyClick:function(e){this.$emit("modifyRoleInfo",e)},deleteClick:function(e){}}}),o=i,s=a("2877"),c=Object(s["a"])(o,n,r,!1,null,null,null);t["a"]=c.exports},"6aba":function(e,t,a){"use strict";a("cdb9")},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("e330"),o=a("94ca"),s=a("cb2d"),c=a("1a2d"),u=a("7156"),l=a("3a9b"),d=a("d9b5"),p=a("c04e"),f=a("d039"),b=a("241c").f,m=a("06cf").f,h=a("9bf2").f,v=a("408a"),g=a("58a8").trim,I="Number",k=r[I],x=k.prototype,C=r.TypeError,O=i("".slice),j=i("".charCodeAt),T=function(e){var t=p(e,"number");return"bigint"==typeof t?t:w(t)},w=function(e){var t,a,n,r,i,o,s,c,u=p(e,"number");if(d(u))throw C("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=g(u),t=j(u,0),43===t||45===t){if(a=j(u,2),88===a||120===a)return NaN}else if(48===t){switch(j(u,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=O(u,2),o=i.length,s=0;s<o;s++)if(c=j(i,s),c<48||c>r)return NaN;return parseInt(i,n)}return+u};if(o(I,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var _,N=function(e){var t=arguments.length<1?0:k(T(e)),a=this;return l(x,a)&&f((function(){v(a)}))?u(Object(t),a,N):t},y=n?b(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;y.length>E;E++)c(k,_=y[E])&&!c(N,_)&&h(N,_,m(k,_));N.prototype=x,x.constructor=N,s(r,I,N,{constructor:!0})}},c057:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.handleCurrentChange}})},r=[],i=(a("a9e3"),{name:"",data:function(){return{}},props:{totalCount:{type:Number,default:100}},components:{},computed:{},created:function(){},mounted:function(){},methods:{handleCurrentChange:function(e){this.$emit("CurrentChange",e)}},watch:{}}),o=i,s=a("2877"),c=Object(s["a"])(o,n,r,!1,null,"2dd8833d",null);t["a"]=c.exports},c740:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").findIndex,i=a("44d2"),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},cdb9:function(e,t,a){},d33d:function(e,t,a){"use strict";a("159b1")}}]);